{"ast":null,"code":"import _slicedToArray from \"/home/codebrahma/Documents/live/messages/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/codebrahma/Documents/live/messages/src/components/signup/signup.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { login, register, AUTH_SUCCESS, LOADING } from \"../../actions/actions\";\nimport Spinner from \"./Spinner\";\nimport classes from \"./signup.module.css\";\nimport emailIcon from \"../../assets/email.svg\";\nimport passwordIcon from \"../../assets/lock.svg\";\nimport userIcon from \"../../assets/user.svg\";\nimport { Link } from \"react-router-dom\";\n\nconst Signup = props => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        name = _useState6[0],\n        setName = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        isLogin = _useState8[0],\n        setIsLogin = _useState8[1];\n\n  const formSubmitHandler = event => {\n    event.preventDefault();\n    const regex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;\n    const pwd = document.querySelector(\"#password\").value;\n\n    if (regex.test(pwd)) {\n      props.register(name, email, password);\n      props.startLoading();\n      setTimeout(() => {\n        props.history.push(\"/\");\n      }, 2000);\n    } else {\n      document.querySelector(\".password\").style.display = \"block\";\n    }\n  };\n  /*eslint-disable */\n\n\n  useEffect(() => {\n    if (localStorage.getItem(\"isLogged\")) {\n      const data = JSON.parse(localStorage.getItem(\"data\"));\n      props.logged(data);\n    }\n  }, []);\n  /*eslint-enable */\n\n  return props.loading ? React.createElement(Spinner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    className: classes.page,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: classes.Login,\n    onSubmit: event => formSubmitHandler(event),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"REGISTER\"), React.createElement(\"div\", {\n    className: classes.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    autoFocus: true,\n    autoComplete: \"off\",\n    type: \"text\",\n    className: classes.input,\n    placeholder: \"Username\",\n    name: \"username\",\n    value: name,\n    onChange: e => setName(e.target.value.trim()),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.icon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: userIcon,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: classes.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: classes.input,\n    autoFocus: true,\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value.trim()),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.icon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: emailIcon,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: classes.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: classes.input,\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    value: password,\n    placeholder: \"Password\",\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.icon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: passwordIcon,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }))), React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: [classes.error, \"password\"].join(\" \"),\n    style: {\n      fontSize: \"12px\",\n      fontWeight: \"bold\",\n      display: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Password must contain atleast one symbol,number,char\")), React.createElement(React.Fragment, null, React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Register\"), React.createElement(\"p\", {\n    className: classes.register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Already have an account?\", React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      fontWeight: \"bold\",\n      cursor: \"pointer\",\n      margin: \"0 5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Login here\"))))));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  authLogin: (email, password) => dispatch(login(email, password)),\n  register: (name, email, password) => dispatch(register(name, email, password)),\n  logged: data => dispatch({\n    type: AUTH_SUCCESS,\n    data: data\n  }),\n  startLoading: () => dispatch({\n    type: LOADING\n  })\n});\n\nconst mapStateToProps = state => ({\n  loading: state.loading,\n  loginStatus: state.loginStatus\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);","map":{"version":3,"sources":["/home/codebrahma/Documents/live/messages/src/components/signup/signup.js"],"names":["React","useState","useEffect","connect","login","register","AUTH_SUCCESS","LOADING","Spinner","classes","Link","Signup","props","email","setEmail","password","setPassword","name","setName","isLogin","setIsLogin","formSubmitHandler","event","preventDefault","regex","pwd","document","querySelector","value","test","startLoading","setTimeout","history","push","style","display","localStorage","getItem","data","JSON","parse","logged","loading","page","Login","title","text","input","e","target","trim","icon","userIcon","emailIcon","passwordIcon","error","join","fontSize","fontWeight","cursor","margin","mapDispatchToProps","dispatch","authLogin","type","mapStateToProps","state","loginStatus"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { login, register, AUTH_SUCCESS, LOADING } from \"../../actions/actions\";\nimport Spinner from \"./Spinner\";\nimport classes from \"./signup.module.css\";\nimport emailIcon from \"../../assets/email.svg\";\nimport passwordIcon from \"../../assets/lock.svg\";\nimport userIcon from \"../../assets/user.svg\";\nimport { Link } from \"react-router-dom\";\n\nconst Signup = props => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(true);\n\n  const formSubmitHandler = event => {\n    event.preventDefault();\n    const regex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;\n    const pwd = document.querySelector(\"#password\").value;\n    if (regex.test(pwd)) {\n      props.register(name, email, password);\n      props.startLoading();\n      setTimeout(() => {\n        props.history.push(\"/\");\n      }, 2000);\n    } else {\n      document.querySelector(\".password\").style.display = \"block\";\n    }\n  };\n  /*eslint-disable */\n\n  useEffect(() => {\n    if (localStorage.getItem(\"isLogged\")) {\n      const data = JSON.parse(localStorage.getItem(\"data\"));\n      props.logged(data);\n    }\n  }, []);\n\n  /*eslint-enable */\n\n  return props.loading ? (\n    <Spinner />\n  ) : (\n    <div className={classes.page}>\n      <form\n        className={classes.Login}\n        onSubmit={event => formSubmitHandler(event)}\n      >\n        <div className={classes.title}>REGISTER</div>\n\n        <div className={classes.text}>\n          <input\n            autoFocus={true}\n            autoComplete=\"off\"\n            type=\"text\"\n            className={classes.input}\n            placeholder=\"Username\"\n            name=\"username\"\n            value={name}\n            onChange={e => setName(e.target.value.trim())}\n            required\n          />\n          <div className={classes.icon}>\n            <img src={userIcon} alt=\"\" />\n          </div>\n        </div>\n        <div className={classes.text}>\n          <input\n            className={classes.input}\n            autoFocus={true}\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={e => setEmail(e.target.value.trim())}\n            required\n          />\n          <div className={classes.icon}>\n            <img src={emailIcon} alt=\"\" />\n          </div>\n        </div>\n        <div className={classes.text}>\n          <input\n            className={classes.input}\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            value={password}\n            placeholder=\"Password\"\n            onChange={e => setPassword(e.target.value)}\n            required\n          />\n          <div className={classes.icon}>\n            <img src={passwordIcon} alt=\"\" />\n          </div>\n        </div>\n\n        <center>\n          <div\n            className={[classes.error, \"password\"].join(\" \")}\n            style={{ fontSize: \"12px\", fontWeight: \"bold\", display: \"none\" }}\n          >\n            Password must contain atleast one symbol,number,char\n          </div>\n        </center>\n\n        <>\n          <button>Register</button>\n          <p className={classes.register}>\n            Already have an account?\n            <Link to=\"/\">\n              <span\n                style={{\n                  fontWeight: \"bold\",\n                  cursor: \"pointer\",\n                  margin: \"0 5px\"\n                }}\n              >\n                Login here\n              </span>\n            </Link>\n          </p>\n        </>\n      </form>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  authLogin: (email, password) => dispatch(login(email, password)),\n  register: (name, email, password) =>\n    dispatch(register(name, email, password)),\n  logged: data => dispatch({ type: AUTH_SUCCESS, data: data }),\n  startLoading: () => dispatch({ type: LOADING })\n});\nconst mapStateToProps = state => ({\n  loading: state.loading,\n  loginStatus: state.loginStatus\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Signup);\n"]},"metadata":{},"sourceType":"module"}