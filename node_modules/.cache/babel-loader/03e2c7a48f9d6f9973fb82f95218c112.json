{"ast":null,"code":"var _jsxFileName = \"/home/codebrahma/Documents/live/messages/src/components/Details/Details.js\";\nimport React, { useEffect } from \"react\";\nimport Detail from \"../Detail/Detail\";\nimport firebase from \"firebase\";\nimport { connect } from \"react-redux\";\nimport { logout, LOADING } from \"../../actions/actions\";\nimport classes from \"./Details.module.css\";\nimport \"./Table.module.css\";\nimport noData from \"../../assets/noData.jpg\";\nimport Spinner from \"../Spinner/Spinner\";\n\nconst Details = props => {\n  let data,\n      keys,\n      list = [];\n  /*eslint-disable */\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(user => {\n      if (!user) {\n        props.history.push(\"/\");\n        localStorage.removeItem(\"data\");\n        localStorage.removeItem(\"isLogged\");\n        localStorage.removeItem(\"name\");\n        localStorage.removeItem(\"email\");\n        props.loading();\n        setTimeout(() => {\n          props.logout();\n        }, 2000);\n      }\n    });\n  }, []);\n  /*eslint-enable */\n\n  if (props.data !== null) {\n    data = props.data;\n    keys = Object.keys(data);\n    list = keys.map(key => {\n      return React.createElement(Detail, {\n        key: key,\n        id: key,\n        name: data[key].name,\n        message: data[key].message,\n        subject: data[key].subject,\n        email: data[key].email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      });\n    }).filter(elem => elem);\n    list.splice(0, 1);\n  }\n\n  return props.loading ? React.createElement(\"div\", {\n    className: classes.Details,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.welcome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Welcome \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, props.name)), React.createElement(\"div\", {\n    className: classes.logout,\n    onClick: () => firebase.auth().signOut(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \" LOGOUT\"))), list.length !== 0 ? React.createElement(\"div\", {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Records\")), React.createElement(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: Date.now(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    key: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    key: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"th\", {\n    key: \"subject\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Subject\"), React.createElement(\"th\", {\n    key: \"message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Message\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, list)))) : React.createElement(\"div\", {\n    className: classes.noData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.content,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: noData,\n    alt: \"no data found\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), \"No data to display. \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), \"Send message to see data\"))) : React.createElement(Spinner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  });\n};\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.loading,\n    isLogged: state.isLogged || localStorage.getItem(\"isLogged\"),\n    data: state.data || localStorage.getItem(\"data\"),\n    name: state.name || localStorage.getItem(\"name\")\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  logout: () => dispatch(logout()),\n  loading: () => dispatch({\n    type: LOADING\n  })\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Details);","map":{"version":3,"sources":["/home/codebrahma/Documents/live/messages/src/components/Details/Details.js"],"names":["React","useEffect","Detail","firebase","connect","logout","LOADING","classes","noData","Spinner","Details","props","data","keys","list","auth","onAuthStateChanged","user","history","push","localStorage","removeItem","loading","setTimeout","Object","map","key","name","message","subject","email","filter","elem","splice","title","welcome","signOut","length","table","Date","now","content","mapStateToProps","state","isLogged","getItem","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Detail from \"../Detail/Detail\";\nimport firebase from \"firebase\";\nimport { connect } from \"react-redux\";\nimport { logout, LOADING } from \"../../actions/actions\";\nimport classes from \"./Details.module.css\";\nimport \"./Table.module.css\";\nimport noData from \"../../assets/noData.jpg\";\nimport Spinner from \"../Spinner/Spinner\";\n\nconst Details = props => {\n  let data,\n    keys,\n    list = [];\n\n  /*eslint-disable */\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(user => {\n      if (!user) {\n        props.history.push(\"/\");\n        localStorage.removeItem(\"data\");\n        localStorage.removeItem(\"isLogged\");\n        localStorage.removeItem(\"name\");\n        localStorage.removeItem(\"email\");\n        props.loading();\n        setTimeout(() => {\n          props.logout();\n        }, 2000);\n      }\n    });\n  }, []);\n  /*eslint-enable */\n\n  if (props.data !== null) {\n    data = props.data;\n    keys = Object.keys(data);\n    list = keys\n      .map(key => {\n        return (\n          <Detail\n            key={key}\n            id={key}\n            name={data[key].name}\n            message={data[key].message}\n            subject={data[key].subject}\n            email={data[key].email}\n          />\n        );\n      })\n      .filter(elem => elem);\n    list.splice(0, 1);\n  }\n\n  return props.loading ? (\n    <div className={classes.Details}>\n      <div className={classes.title}>\n        <div className={classes.welcome}>\n          Welcome <span>{props.name}</span>\n        </div>\n        <div\n          className={classes.logout}\n          onClick={() => firebase.auth().signOut()}\n        >\n          <p> LOGOUT</p>\n        </div>\n      </div>\n      {list.length !== 0 ? (\n        <div className={classes.table}>\n          <center>\n            <h2>Records</h2>\n          </center>\n          <center>\n            <table className={classes.table}>\n              <thead>\n                <tr key={Date.now()}>\n                  <th key=\"name\">Name</th>\n                  <th key=\"email\">Email</th>\n                  <th key=\"subject\">Subject</th>\n                  <th key=\"message\">Message</th>\n                </tr>\n              </thead>\n              <tbody>{list}</tbody>\n            </table>\n          </center>\n        </div>\n      ) : (\n        <div className={classes.noData}>\n          <div className={classes.content}>\n            <img src={noData} alt=\"no data found\" />\n            <br />\n            No data to display. <br />\n            Send message to see data\n          </div>\n        </div>\n      )}\n    </div>\n  ) : (\n    <Spinner />\n  );\n};\nconst mapStateToProps = state => {\n  return {\n    loading: state.loading,\n    isLogged: state.isLogged || localStorage.getItem(\"isLogged\"),\n    data: state.data || localStorage.getItem(\"data\"),\n    name: state.name || localStorage.getItem(\"name\")\n  };\n};\nconst mapDispatchToProps = dispatch => ({\n  logout: () => dispatch(logout()),\n  loading: () => dispatch({ type: LOADING })\n});\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Details);\n"]},"metadata":{},"sourceType":"module"}